<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Math Worksheet Generator</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header no-print">
    <h1>Math Worksheet Generator</h1>
    <button id="printBtn" class="primary">Print Worksheets</button>
  </header>

  <main class="app">
    <!-- Controls -->
    <aside class="controls no-print">
      <div class="group">
        <label for="operation"><strong>Operation</strong></label>
        <select id="operation">
          <option value="multiplication" selected>Multiplication (×)</option>
          <option value="addition">Addition (+)</option>
          <option value="subtraction">Subtraction (−)</option>
          <option value="division">Division (÷)</option>
        </select>
      </div>

      <div class="group" id="subtractionOptions" style="display:none">
        <label class="checkbox">
          <input type="checkbox" id="noNegatives" checked />
          No negatives (ensure a ≥ b)
        </label>
      </div>

      <div class="group" id="divisionOptions" style="display:none">
        <label class="checkbox">
          <input type="checkbox" id="wholeNumberDivision" checked />
          Whole-number answers only (no remainders)
        </label>
        <label class="checkbox">
          <input type="checkbox" id="showRemainders" />
          If remainders occur, show as “q r r” on answer key
        </label>

        <label for="divisionStyle"><strong>Division style</strong></label>
        <select id="divisionStyle">
          <option value="inline" selected>Inline (8 ÷ 2 = __)</option>
          <option value="long">Long (“house”: 2 ) 8)</option>
          <option value="mixed">Mixed (alternate)</option>
        </select>
        <small>Long division uses a compact bracket/overbar. Division always renders horizontally.</small>
      </div>

      <div class="group">
        <label><strong>Difficulty mode</strong></label>
        <label class="checkbox">
          <input type="radio" name="mode" value="grade" id="modeGrade" checked />
          Grade presets
        </label>
        <label class="checkbox">
          <input type="radio" name="mode" value="custom" id="modeCustom" />
          Custom digits (pick # of digits for each factor)
        </label>
      </div>

      <div id="gradeControls">
        <div class="group">
          <label for="gradeLevel"><strong>Grade level</strong></label>
          <select id="gradeLevel">
            <option value="3" selected>Grade 3 (0–10 facts)</option>
            <option value="4">Grade 4 (0–12 facts)</option>
            <option value="5">Grade 5 (0–12, optional 2-digit × 1-digit)</option>
          </select>
        </div>

        <div class="group" id="grade5Extras">
          <label class="checkbox">
            <input type="checkbox" id="allowTwoDigit" />
            Allow 2-digit × 1-digit (multiplication)
          </label>
          <label for="twoDigitMax">Max 2-digit (10–99)</label>
          <input id="twoDigitMax" type="number" min="10" max="99" value="99" />
        </div>
      </div>

      <div id="customControls" style="display:none">
        <div class="group">
          <label><strong>Left operand (A) digits</strong></label>
          <div class="manual-row">
            <label for="aMinDigits" style="margin:0">Min</label>
            <input id="aMinDigits" type="number" min="1" max="6" value="2" />
            <label for="aMaxDigits" style="margin:0">Max</label>
            <input id="aMaxDigits" type="number" min="1" max="6" value="2" />
          </div>
        </div>

        <div class="group">
          <label><strong>Right operand (B) digits</strong></label>
          <div class="manual-row">
            <label for="bMinDigits" style="margin:0">Min</label>
            <input id="bMinDigits" type="number" min="1" max="6" value="2" />
            <label for="bMaxDigits" style="margin:0">Max</label>
            <input id="bMaxDigits" type="number" min="1" max="6" value="2" />
          </div>
        </div>

        <div class="group">
          <label class="checkbox">
            <input type="checkbox" id="allowZero" />
            Allow zeros (e.g., 0 × 47)
          </label>
        </div>
      </div>

      <div class="group">
        <label for="problemsCount"><strong>Problems per page</strong></label>
        <input id="problemsCount" type="number" min="4" max="120" step="1" value="12" />
        <small>Tip: 30–48 works nicely on Letter paper.</small>
      </div>

      <div class="group">
        <label for="layout"><strong>Problem layout</strong></label>
        <select id="layout">
          <option value="horizontal" selected>Horizontal (a ? b = ___)</option>
          <option value="vertical">Vertical (stacked)</option>
        </select>
        <small>Note: Division always renders horizontally.</small>
      </div>

      <div class="group">
        <label class="checkbox">
          <input type="checkbox" id="includeNameDate" checked />
          Include Name/Date line
        </label>
      </div>

      <div class="group">
        <label class="checkbox">
          <input type="checkbox" id="includeAnswerKey" />
          Include answer key page
        </label>
      </div>

      <hr />

      <div class="group">
        <h3>Manual problems</h3>
        <div class="manual-row">
          <select id="manualOp">
            <option value="addition">+</option>
            <option value="subtraction">−</option>
            <option value="multiplication" selected>×</option>
            <option value="division">÷</option>
          </select>
          <input id="manA" type="number" min="0" max="999999" placeholder="a" />
          <span>?</span>
          <input id="manB" type="number" min="0" max="999999" placeholder="b" />
          <button id="addManual" class="secondary">Add</button>
        </div>
        <small>Manual problems use the chosen operator (left). They’re used first; remaining slots fill from the settings above.</small>
        <ul id="manualList" class="manual-list"></ul>
      </div>

      <div class="group">
        <button id="generateBtn" class="primary">Generate</button>
        <button id="clearBtn" class="ghost">Clear</button>
      </div>

      <p class="tiny no-print">
        Printing tip: use your browser’s Print dialog. This page applies print CSS for Letter size.
      </p>
    </aside>

    <!-- Worksheet & Answer Key -->
    <section class="pages">
      <!-- PREVIEW WRAPPER scales the page for screen without affecting print -->
      <div class="page-preview">
        <article id="worksheetPage" class="page">
          <header class="page-header">
            <div class="title-block">
              <div class="worksheet-title" id="worksheetTitle">Math Practice</div>
              <div class="worksheet-sub" id="worksheetSub"></div>
              <div class="name-date-line" id="nameDateLine">
                <div class="name">Name:</div>
                <div class="date">Date:</div>
              </div>
            </div>
          </header>
          <div id="problemsGrid" class="grid"></div>
        </article>
      </div>

      <!-- Answer Key Preview (hidden until toggled) -->
      <div class="page-preview" id="answerPreview" style="display:none">
        <article id="answerPage" class="page" aria-hidden="true">
          <header class="page-header">
            <div class="title-block">
              <div class="worksheet-title">Answer Key</div>
              <div class="worksheet-sub" id="answerSub"></div>
            </div>
          </header>
          <div id="answersGrid" class="grid answers"></div>
        </article>
      </div>
    </section>
  </main>

  <script src="app.js"></script>
</body>
</html>
